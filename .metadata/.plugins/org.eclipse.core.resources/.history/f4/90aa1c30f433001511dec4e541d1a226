package snake;

import java.util.ArrayList;
import java.util.List;

public class SnakeGame {
	public enum Key {
		UP, DOWN, LEFT, RIGHT
	}

	public static class Location {
		private int x;
		private int y;

		public Location(int x, int y) {
			this.x = x;
			this.y = y;
		}

		public void setX(int x) {
			this.x = x;
		}

		public void setY(int y) {
			this.y = y;
		}

		public int getX() {
			return x;
		}

		public int getY() {
			return y;
		}
	}

	private final int canvasWidth;
	private final int canvasHeight;

	private int score;
	private boolean gameOver;
	private boolean passThroughWall;

	private List<Location> snake;
	private Location foodLocation;

	public SnakeGame(int width, int height, List<Location> snake, Location food) {
		this.canvasWidth = width;
		this.canvasHeight = height;

		this.score = 0;
		this.gameOver = false;
		this.passThroughWall = false;
		this.snake = snake;
		this.foodLocation = food;
	}

	// Please implement this.
	public void advanceClock(Key key) {
		// throw new UnsupportedOperationException();
		Location objCurrentLocation = snake.get(0);
		switch (key) {
		case UP:
			objCurrentLocation.y++;
			snake.set(0, objCurrentLocation);
		case DOWN:// objCurrentLocation.y++; snake.set(0, objCurrentLocation);
		case LEFT:
			objCurrentLocation.x--;
			snake.set(0, objCurrentLocation);
		case RIGHT:
			objCurrentLocation.x++;
			snake.set(0, objCurrentLocation);
		}
	}

	public int getScore() {
		return score;
	}

	public void setPassThroughWallMode(boolean mode) {
		passThroughWall = mode;
	}

	public boolean isGameOver() {
		return gameOver;
	}

	public void setFoodLocation(Location loc) {
		foodLocation = loc;
	}

	public static void main(String[] args) {
		List<Location> snake = new ArrayList<Location>();
		snake.add(new Location(2, 4));
		snake.add(new Location(2, 3));
		snake.add(new Location(2, 2));

		SnakeGame game = new SnakeGame(50, 50, new ArrayList<Location>(snake),
				new Location(5, 5));
		game.advanceClock(Key.LEFT);
		game.advanceClock(Key.LEFT);
		System.out.println(game.isGameOver()); // true

		game = new SnakeGame(50, 50, new ArrayList<Location>(snake),
				new Location(5, 5));
		game.advanceClock(Key.UP);
		System.out.println(game.isGameOver()); // true

		game = new SnakeGame(50, 50, new ArrayList<Location>(snake),
				new Location(1, 4));
		game.advanceClock(Key.LEFT);
		System.out.println(game.getScore()); // 1
		System.out.println(game.isGameOver()); // false

		game = new SnakeGame(50, 50, new ArrayList<Location>(snake),
				new Location(1, 4));
		game.setPassThroughWallMode(true);
		game.advanceClock(Key.LEFT);
		System.out.println(game.isGameOver()); // false
	}
}
